pico-8 cartridge // http://www.pico-8.com
version 32
__lua__
function _init()
	dude_s = 1
	dude_x = 10
	dude_y = 10
	init_back()
end

function _draw()
	cls()
	draw_back()
	spr(1+dude_s, dude_x, dude_y)
	spr(17+dude_s,dude_x,dude_y+8)
end

function _update()
	dude_x += .25
	dude_s = dude_x % 2
	update_part()
end

function draw_back()
	for p in all(back_part) do
	 pset(p.x, p.y, p.c)
	end
end

function update_part()
	for p in all(back_part) do
		p.x += p.dx
		p.dy += 0.005 --grav
		p.dy = min(p.dy,1)
		p.y += p.dy
		if max(p.x,p.y) > 128 then
			del(back_part,p)
			add(back_part,new_back_part(0))
		end
	end
end

function init_back()
	back_part={}
	for i = 0,50 do
		add(back_part,new_back_part())
	end
end

function new_back_part(x)
 x = x or rnd(128)
	return part(x,rnd(128),rnd(2), rnd(.05)-.025, rnd({1,1,1,1,5,5,5,5,6,6,7}))
end

function part(x,y,dx,dy,c)
	local p = {}
	p.x=x
	p.y=y
	p.dx=dx
	p.dy=dy
	p.c=c
	return p
end

function init_map()

end
__gfx__
00000000000000000000000000000000000000000000000000000000000000000777777054545454000000000000000000000000000000000000000000000000
00000000000667000005550000000000000000000000000000000000000000005666666745454545000000000000000000000000000000000000000000000000
00700700006666700056670000000000000000000000000000000000000000005666666754545454000000000000000000000000000000000000000000000000
00077000056161700066667000000000000000000000000000000000000000005666666745454545000000000000000000000000000000000000000000000000
00077000056666600561616000000000000000000000000000000000000000005666666754545454000000000000000000000000000000000000000000000000
0070070005d6dd5005d6665000000000000000000000000000000000000000005666666745454545b0b0b0b00000000000000000000000000000000000000000
0000000000d5d000005dd50000000000000000000000000000000000000000005666666754545454303030300000000000000000000000000000000000000000
00000000000dcc00000ccd0000000000000000000000000000000000000000000555555045454545333333330000000000000000000000000000000000000000
00000000000080000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000687000000800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000005666700006870000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000005787800056667000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000005666600057878000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000028688000566660000000000000000000000000000000000000000000000000000000000b0b0b0b0000000000000000000000000000000000000000
00000000000288000008280000000000000000000000000000000000000000000000000000000000303030300000000000000000000000000000000000000000
00000000000208000000820000000000000000000000000000000000000000000000000000000000333333330000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0e000e00060006000044000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
28e028e01c601c600000400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
88828880ccc1ccc00005460000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
088888000ccccc000055556000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0288820001ccc1000015556000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00288000001cc0000015555000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00020000000100000001150000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__gff__
0000000000000000010300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__map__
0000000008080800000808080000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0808080808080800000808080808080800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0800000707070707070707070707070800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0800000000000000000000000000000800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0800000000000000000000000000000800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0800000000000000000000000000000800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0800000a0a0a000000000a0a0a00000800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0800000909090000000009090900000800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0800000909090000000009090900000800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0800000000000000000000000000000800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0800000000000000000000000000000800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
080000000000000a0a0000000000000800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0808080808080809090808080808080800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
